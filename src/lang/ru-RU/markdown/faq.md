# Часто задаваемые вопросы

Ознакомьтесь с данным разделом, если у вас все еще возникают проблемы с настройкой. В большинстве примеров будут использоваться следующие значения, если не установлено иное:

|                  |                                            |
| ---------------- | ------------------------------------------ |
| **Каталог ROMs** | `C:/ROMs`                                  |
| **Файл1**        | `C:/ROMs/Kingdom Hearts/game.iso`          |
| **Файл2**        | `C:/ROMs/Kingdom Hearts II/rom.iso`        |
| **Файл3**        | `C:/ROMs/dir1/dir2/dir3/Metroid [USA].nes` |
| **Файл4**        | `C:/ROMs/dir1/dir2/dir3/save.sav`          |
| **Файл5**        | `C:/ROMs/dir1/dir2/Dragon Quest IV.NES`    |
| **Файл6**        | `C:/ROMs/dir1/dir2/save.sav`               |

## Итак, как мне настроить glob пользователя?

Сначала проанализируем **Файл1**. Полный путь к нему - `C:/ROMs/Kingdom Hearts/game.iso`. Поскольку наш каталог **ROMs** - это `C:/ROMs`, мы можем просто удалить его из пути **Файл1**.

В итоге мы получаем `Kingdom Hearts/game.iso`. Для нас очевидно, что `Kingdom Hearts` - это название, однако анализатор глупее вас - вы должны указать часть пути, которая содержит название, заменив `Kingdom Hearts` на `${title}`.

Опять же, в итоге мы получаем `${title}/game.iso`, но нам также нужен **Файл2**, потому что он предназначен для того же эмулятора. **Файл1** - это `game.iso`, а **Файл2** - это `rom.iso`. Что дальше?

Помните про "дикие карты"? Они позволяют нам отбрасывать информацию, которая на самом деле не имеет значения. В данном случае нам неважно, будет ли это `game` или `rom`, мы хотим, чтобы оба совпали. Поэтому мы заменяем их на `*`. Это конечный glob для обоих **Файл1** и **Файл2**:

```
${title}/*.iso
```

Используя аналогичную логику, мы можем создать glob для **Файл3**:

```
*/*/*/${title}.nes
```

## Как работать с многоуровневыми каталогами?

На этот раз нам нужны **Файл3** и **Файл5** (оба имеют разные расширения, читайте следующий раздел о том, что с этим делать, а пока мы будем использовать `*`, чтобы игнорировать расширение). Обратите внимание, что **Файл3** имеет `3` подкаталогов, в то время как **Файл5** имеет `2`. Что теперь?

Теперь мы можем использовать globstar и все!
```
**/${title}.*
```
Неужели все так просто? **NO!** Globstar будет оказывать некоторое влияние на производительность анализатора, если в нем много подкаталогов с тысячами файлов в каждом. Globstar позаботится о том, чтобы анализатор проверил все файлы, которые он сможет найти. Пользователь однажды сообщил, что парсинг занял ~10 минут, когда он использовал везде globstars.

Рекомендуемое решение - использовать комплекты со скобами. Они могут создавать несколько глобусов из `1` глобуса. Если мы напишем glob следующим образом:

```
{*,*/*}/*/${title}.*
```

мы получим `2` глобусов:

```
*/*/${title}.*
*/*/*/${title}.*
```

Эти глобусы `2` оба удовлетворяют нашим файлам, **Файл3** и **Файл5**.

## Как ограничить расширения файлов?

Допустим, мы используем glob из предыдущего примера:

```
{*,*/*}/*/${title}.*
```

В итоге у нас будет 4 файла: **Файл3**, **Файл4**, **Файл5** и **Файл6**. Теперь нам не нужны **Файл4** и **Файл6**. Обычно мы можем установить glob на:

```
{*,*/*}/*/${title}.nes
```

но тогда в итоге мы получим только **Файл3**, потому что `nes` не равно `NES` - анализатор чувствителен к регистру. Есть два способа решить эту проблему с помощью расширенного glob matcher.

### Исключить расширение `sav`

Расширенный glob matcher `!(...)` позволяет исключить все, что нужно. Просто напишите glob следующим образом:

```
{*,*/*}/*/${title}.!(sav)
```

и файлы с расширением `sav` будут исключены.

### Проверьте наличие нескольких расширений

Расширенный glob matcher `@(...)` позволяет нам сопоставлять несколько вещей. Просто напишите glob следующим образом:

```
{*,*/*}/*/${title}.@(nes|NES)
```

и только файлы с `nes` и `NES` будут сопоставлены. Если вы чувствуете себя фантазером или у вас есть файлы с расширениями `nes`, `NES`, `neS`, `nEs`, `Nes` и т. д., вам нужен glob, который использует диапазон символов:

```
{*,*/*}/*/${title}.@([nN][eE][sS])
```

Теперь анализатор может соответствовать любой комбинации и фактически не зависит от регистра. Технически, следующий глобус тоже будет работать, но приведенный выше выглядит лучше.

```
{*,*/*}/*/${title}.[nN][eE][sS]
```

## Устранение неполадок
* Перед сохранением списка приложений убедитесь, что steam действительно закрыт.

* Одна из распространенных проблем, с которой сталкивается Steam ROM Manager, - наличие старых каталогов steam от людей, которые вошли в steam на вашем компьютере до обновления New Library Update. Это может привести к непредсказуемым сбоям в работе Steam ROM Manager, поскольку он пытается получить доступ к директориям, структура которых изменилась. Чтобы обойти эту проблему, используйте поле [User Accounts](#user-accounts), чтобы указать, с какими учетными записями вы хотите использовать Steam ROM Manager.

## Discord

Для получения дополнительной помощи обратитесь к нашему [Discord](https://discord.gg/bnSVJrz).
